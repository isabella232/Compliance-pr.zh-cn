---
title: Microsoft 365 中的攻击模拟
description: 本文介绍 Microsoft 如何持续监视和测试 Microsoft 365 的租户边界。
ms.author: robmazz
author: robmazz
manager: laurawi
ms.reviewer: sosstah
audience: ITPro
ms.topic: article
ms.service: O365-seccomp
localization_priority: Normal
search.appverid:
- MET150
ms.collection:
- Strat_O365_IP
- M365-security-compliance
- MS-Compliance
f1.keywords:
- NOCSH
ms.custom: seo-marvel-apr2020
titleSuffix: Microsoft Service Assurance
hideEdit: true
ms.openlocfilehash: b37ca23fa403bd0a4a657be78654a02bf23721b3
ms.sourcegitcommit: 024137a15ab23d26cac5ec14c36f3577fd8a0cc4
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/01/2021
ms.locfileid: "51497534"
---
# <a name="attack-simulation-in-microsoft-365"></a><span data-ttu-id="def63-103">Microsoft 365 中的攻击模拟</span><span class="sxs-lookup"><span data-stu-id="def63-103">Attack simulation in Microsoft 365</span></span>

<span data-ttu-id="def63-104">Microsoft 持续监视和显式测试租户边界中的漏洞，包括监视入侵、权限违反尝试和资源不足。</span><span class="sxs-lookup"><span data-stu-id="def63-104">Microsoft continuously monitors and explicitly tests for weaknesses and vulnerabilities in tenant boundaries, including monitoring for intrusion, permission violation attempts, and resource starvation.</span></span> <span data-ttu-id="def63-105">我们还使用多个内部系统持续监视不恰当的资源使用率，如果检测到，将触发内置限制。</span><span class="sxs-lookup"><span data-stu-id="def63-105">We also use multiple internal systems to continuously monitor for inappropriate resource utilization, which if detected, triggers built-in throttling.</span></span>

<span data-ttu-id="def63-106">Microsoft 365 具有内部监控系统，可持续监视任何故障，并驱动在检测到故障时自动恢复。</span><span class="sxs-lookup"><span data-stu-id="def63-106">Microsoft 365 has internal monitoring systems that continuously monitor for any failure and drive automated recovery when failure is detected.</span></span> <span data-ttu-id="def63-107">Microsoft 365 系统分析服务行为的偏差，并启动内置于系统的自我修复过程。</span><span class="sxs-lookup"><span data-stu-id="def63-107">Microsoft 365 systems analyze deviations in service behavior and initiate self-healing processes that are built into the system.</span></span> <span data-ttu-id="def63-108">Microsoft 365 还使用外部监控，其中从受信任的第三方服务 (以及我们自己的数据中心从多个位置执行监视，用于独立 SLA 验证) 以及我们自己的数据中心发出警报。</span><span class="sxs-lookup"><span data-stu-id="def63-108">Microsoft 365 also uses outside-in monitoring in which monitoring is performed from multiple locations both from trusted third-party services (for independent SLA verification) and our own datacenters to raise alerts.</span></span> <span data-ttu-id="def63-109">对于诊断，我们进行了广泛的日志记录、审核和跟踪。</span><span class="sxs-lookup"><span data-stu-id="def63-109">For diagnostics, we have extensive logging, auditing, and tracing.</span></span> <span data-ttu-id="def63-110">精细的跟踪和监视可帮助我们隔离问题，并执行快速有效的根本原因分析。</span><span class="sxs-lookup"><span data-stu-id="def63-110">Granular tracing and monitoring help us isolate issues and perform fast and effective root cause analysis.</span></span>

<span data-ttu-id="def63-111">虽然 Microsoft 365 在可能的情况下具有自动恢复操作，但 Microsoft 呼叫工程师可以 24x7 调查所有严重级别 1 安全升级，并且每个服务事件的事后评审有助于持续学习和改进。</span><span class="sxs-lookup"><span data-stu-id="def63-111">While Microsoft 365 has automated recovery actions where possible, Microsoft on-call engineers are available 24x7 to investigate all Severity 1 security escalations, and post-mortem reviews of every service incident contributes to continuous learning and improvement.</span></span> <span data-ttu-id="def63-112">此团队包括支持工程师、产品开发人员、项目经理、产品经理和高级领导。</span><span class="sxs-lookup"><span data-stu-id="def63-112">This team includes support engineers, product developers, program managers, product managers, and senior leadership.</span></span> <span data-ttu-id="def63-113">我们的呼叫专家提供及时的备份，并且通常可以自动执行恢复操作，以便下次事件发生时可以自行恢复。</span><span class="sxs-lookup"><span data-stu-id="def63-113">Our on-call professionals provide timely backup and often can automate recovery actions, so that next time an event occurs, it can be self-healed.</span></span>

<span data-ttu-id="def63-114">每次发生 Microsoft 365 安全事件时，无论影响的规模如何，Microsoft 都会执行全面的事后评审。</span><span class="sxs-lookup"><span data-stu-id="def63-114">Microsoft performs a thorough post-incident review each time a Microsoft 365 security incident occurs regardless of the magnitude of impact.</span></span> <span data-ttu-id="def63-115">事后评审包括分析发生了什么、我们如何响应以及将来如何防止发生类似的事件。</span><span class="sxs-lookup"><span data-stu-id="def63-115">A post-incident review consists of an analysis of what happened, how we responded and how we prevent similar incidents in the future.</span></span> <span data-ttu-id="def63-116">为了透明性和责任制，我们将与受影响的客户共享任何重大服务事件的事后评审。</span><span class="sxs-lookup"><span data-stu-id="def63-116">In the interest of transparency and accountability, we share post-incident review for any major service incidents with affected customers.</span></span> <span data-ttu-id="def63-117">有关特定的详细信息，请参阅 [Office 365 安全事件管理](https://aka.ms/Office365SIM)。</span><span class="sxs-lookup"><span data-stu-id="def63-117">For specific details, see [Office 365 Security Incident Management](https://aka.ms/Office365SIM).</span></span>

## <a name="assume-breach-methodology"></a><span data-ttu-id="def63-118">假设泄露方法</span><span class="sxs-lookup"><span data-stu-id="def63-118">Assume breach methodology</span></span>

<span data-ttu-id="def63-119">基于对安全趋势的详细分析，Microsoft 强调并突出显示了在反应安全流程和技术上需要其他投资，这些投资侧重于检测和应对新出现的威胁，而不是仅防范这些威胁。</span><span class="sxs-lookup"><span data-stu-id="def63-119">Based on detailed analysis of security trends, Microsoft advocates and highlights the need for other investments in reactive security processes and technologies that focus on detection and response to emerging threats, rather than solely the prevention of those threats.</span></span> <span data-ttu-id="def63-120">由于威胁形势的变化和深入分析，Microsoft 优化了安全策略，不仅防止了安全漏洞，还更好地具备了在出现泄露时处理漏洞的应对能力;一种将主要安全事件视为与是否有关，而是何时考虑的策略。</span><span class="sxs-lookup"><span data-stu-id="def63-120">Because of changes in the threat landscape and in-depth analysis, Microsoft refined its security strategy beyond just preventing security breaches to one better equipped to deal with breaches when they do occur; a strategy that considers major security events not as a matter of if, but when.</span></span>

<span data-ttu-id="def63-121">尽管 Microsoft [的](https://www.microsoft.com/TrustCenter/Security/default.aspx) "假设泄露"做法已实施很多年，但许多客户不知道在后台完成强化 Microsoft 云的工作。</span><span class="sxs-lookup"><span data-stu-id="def63-121">While Microsoft's [Assume Breach](https://www.microsoft.com/TrustCenter/Security/default.aspx) practices have been in place for many years, many customers are unaware of the work being done behind the scenes to harden the Microsoft cloud.</span></span> <span data-ttu-id="def63-122">假设泄露是指导安全投资、设计决策和运营安全实践的意识。</span><span class="sxs-lookup"><span data-stu-id="def63-122">Assume Breach is a mindset that guides security investments, design decisions, and operational security practices.</span></span> <span data-ttu-id="def63-123">假设"泄露"限制应用程序、服务、标识和网络的信任，将全部（内部和外部）视为不安全且已受到威胁。</span><span class="sxs-lookup"><span data-stu-id="def63-123">Assume Breach limits the trust placed in applications, services, identities, and networks by treating them all—internal and external—as insecure and already compromised.</span></span> <span data-ttu-id="def63-124">尽管假设泄露策略并非来自任何 Microsoft 企业或云服务的实际泄露，但已认识到，尽管所有试图阻止违反策略，但整个行业的许多组织都违反了该策略。</span><span class="sxs-lookup"><span data-stu-id="def63-124">Although the Assume Breach strategy was not borne from an actual breach of any Microsoft enterprise or cloud services, it was recognized that many organizations, across the industry, were being breached despite all attempts to prevent it.</span></span> <span data-ttu-id="def63-125">虽然防止泄露是任何组织运营的关键部分，但必须持续测试和扩充这些实践，以有效应对现代对手和高级永久性威胁。</span><span class="sxs-lookup"><span data-stu-id="def63-125">While preventing breaches is a critical part of any organization's operations, those practices must be continuously tested and augmented to effectively address modern adversaries and advanced persistent threats.</span></span> <span data-ttu-id="def63-126">任何组织为应对泄露做好准备，首先必须构建和维护可靠、可重复且经过全面测试的安全响应过程。</span><span class="sxs-lookup"><span data-stu-id="def63-126">For any organization to prepare for a breach, they must first build and maintain robust, repeatable, and thoroughly tested security response procedures.</span></span>

<span data-ttu-id="def63-127">虽然作为安全开发生命周期的一部分，防止泄露安全过程（如威胁建模、代码审阅和安全测试）非常有用，但[](https://www.microsoft.com/securityengineering/sdl/)假设泄露提供了许多优势，可帮助在出现泄露时通过实施和衡量反应功能来考虑整体安全性。</span><span class="sxs-lookup"><span data-stu-id="def63-127">While Prevent Breach security processes, such as threat modeling, code reviews, and security testing are very useful as part of the [Security Development Lifecycle](https://www.microsoft.com/securityengineering/sdl/), Assume Breach provides numerous advantages that help account for overall security by exercising and measuring reactive capabilities in the event of a breach.</span></span>

<span data-ttu-id="def63-128">在 Microsoft，我们计划通过正在进行的游戏练习和安全响应计划实时网站渗透测试来实现这一点，目的是改进检测和响应能力。</span><span class="sxs-lookup"><span data-stu-id="def63-128">At Microsoft, we set out to accomplish this through ongoing war-games exercises and live site penetration testing of our security response plans with the goal of improving our detection and response capability.</span></span> <span data-ttu-id="def63-129">Microsoft 会定期模拟实际泄露，执行持续安全监视，并实践安全事件管理，以验证和提高 Microsoft 365、Azure 和其他 Microsoft 云服务的安全性。</span><span class="sxs-lookup"><span data-stu-id="def63-129">Microsoft regularly simulates real-world breaches, conducts continuous security monitoring, and practices security incident management to validate and improve the security of Microsoft 365, Azure, and other Microsoft cloud services.</span></span>

<span data-ttu-id="def63-130">Microsoft 使用两个核心组执行其假设泄露安全策略：</span><span class="sxs-lookup"><span data-stu-id="def63-130">Microsoft executes its Assume Breach security strategy using two core groups:</span></span>

- <span data-ttu-id="def63-131">红色团队 (攻击者) </span><span class="sxs-lookup"><span data-stu-id="def63-131">Red Teams (attackers)</span></span>
- <span data-ttu-id="def63-132">蓝队 (防御者) </span><span class="sxs-lookup"><span data-stu-id="def63-132">Blue Teams (defenders)</span></span>

<span data-ttu-id="def63-133">Microsoft Azure 和 Microsoft 365 员工分别使用全职红色团队和蓝色团队。</span><span class="sxs-lookup"><span data-stu-id="def63-133">Both Microsoft Azure and Microsoft 365 staff separate full-time red teams and blue teams.</span></span>

<span data-ttu-id="def63-134">称为"红色成组[](https://go.microsoft.com/fwlink/?linkid=518599)"，方法是使用与真实攻击者相同的策略、技术和过程，针对实时生产基础结构测试 Azure 和 Microsoft 365 系统和运营，而无需工程或运营团队的确认。</span><span class="sxs-lookup"><span data-stu-id="def63-134">Referred to as "[Red Teaming](https://go.microsoft.com/fwlink/?linkid=518599)", the approach is to test Azure and Microsoft 365 systems and operations using the same tactics, techniques and procedures as real adversaries, against the live production infrastructure, without the foreknowledge of the Engineering or Operations teams.</span></span> <span data-ttu-id="def63-135">这将测试 Microsoft 的安全检测和响应功能，并有助于以受控方式识别生产漏洞、配置错误、无效假设和其他安全问题。</span><span class="sxs-lookup"><span data-stu-id="def63-135">This tests Microsoft's security detection and response capabilities, and helps identify production vulnerabilities, configuration errors, invalid assumptions, and other security issues in a controlled manner.</span></span> <span data-ttu-id="def63-136">每次红色团队泄露后，两个团队之间都会进行完全披露，以确定差距、解决发现问题并改进泄露响应。</span><span class="sxs-lookup"><span data-stu-id="def63-136">Every red team breach is followed by full disclosure between both teams to identify gaps, address findings, and improve breach response.</span></span>

<span data-ttu-id="def63-137">**注意**：在红色团队或实时网站渗透测试期间，不会特意将任何客户数据作为目标。</span><span class="sxs-lookup"><span data-stu-id="def63-137">**NOTE**: No customer data is deliberately targeted during Red Teaming or live site penetration testing.</span></span> <span data-ttu-id="def63-138">此测试针对 Microsoft 365、Azure 基础结构和平台，以及 Microsoft 自己的租户、应用程序和数据。</span><span class="sxs-lookup"><span data-stu-id="def63-138">The tests are against Microsoft 365 and Azure infrastructure and platforms, as well as Microsoft's own tenants, applications, and data.</span></span> <span data-ttu-id="def63-139">Microsoft 365 或 Azure 中托管的客户租户、应用程序和内容永远不会成为目标。</span><span class="sxs-lookup"><span data-stu-id="def63-139">Customer tenants, applications, and content hosted in Microsoft 365 or Azure are never targeted.</span></span>

## <a name="red-teams"></a><span data-ttu-id="def63-140">红队</span><span class="sxs-lookup"><span data-stu-id="def63-140">Red teams</span></span>

<span data-ttu-id="def63-141">红色团队是 Microsoft 内的一组全职员工，专注于破坏 Microsoft 的基础结构、平台以及 Microsoft 自己的租户和应用程序。</span><span class="sxs-lookup"><span data-stu-id="def63-141">The red team is a group of full-time staff within Microsoft that focuses on breaching Microsoft's infrastructure, platform, and Microsoft's own tenants and applications.</span></span> <span data-ttu-id="def63-142">他们是一组信息 (黑客的专门攻击者) 对 Online Services (Microsoft 基础结构、平台和应用程序（而非最终用户的应用程序或内容库）执行针对性和永久性) 。</span><span class="sxs-lookup"><span data-stu-id="def63-142">They are the dedicated adversary (a group of ethical hackers) performing targeted and persistent attacks against Online Services (Microsoft infrastructure, platforms, and applications but not end-customers' applications or content).</span></span>

<span data-ttu-id="def63-143">红色团队的作用是使用与对手相同的步骤攻击和入侵环境：</span><span class="sxs-lookup"><span data-stu-id="def63-143">The role of the red team is to attack and penetrate environments using the same steps as an adversary:</span></span>

![泄露阶段](../media/office-365-isolation-breach-stages.png)

<span data-ttu-id="def63-145">红色团队的功能之一是专门尝试破坏租户隔离边界，以查找隔离设计中的错误或缺陷。</span><span class="sxs-lookup"><span data-stu-id="def63-145">Among other functions, red teams specifically attempt to breach tenant isolation boundaries to find bugs or gaps in our isolation design.</span></span>

## <a name="blue-teams"></a><span data-ttu-id="def63-146">蓝队</span><span class="sxs-lookup"><span data-stu-id="def63-146">Blue teams</span></span>

<span data-ttu-id="def63-147">蓝队由一组专门的安全响应者或来自安全事件响应组织、工程组织和运营组织的成员组成。</span><span class="sxs-lookup"><span data-stu-id="def63-147">The blue team is composed of either a dedicated set of security responders or members from across the security incident response, Engineering, and Operations organizations.</span></span> <span data-ttu-id="def63-148">无论它们如何设置，它们都是独立的，并且独立于红色团队运行。</span><span class="sxs-lookup"><span data-stu-id="def63-148">Regardless of their make-up, they are independent and operate separately from the red team.</span></span> <span data-ttu-id="def63-149">蓝队遵循既定的安全流程，并使用最新的工具和技术来检测和响应攻击和渗透。</span><span class="sxs-lookup"><span data-stu-id="def63-149">The blue team follows established security processes and uses the latest tools and technologies to detect and respond to attacks and penetration.</span></span> <span data-ttu-id="def63-150">与实际攻击一样，蓝色团队不知道红色团队的攻击将在何时或如何发生，或者可能会使用哪些方法。</span><span class="sxs-lookup"><span data-stu-id="def63-150">Just like real-world attacks, the blue team does not know when or how the red team's attacks will occur or what methods may be used.</span></span> <span data-ttu-id="def63-151">他们的工作是检测和响应所有安全事件，无论是红色团队攻击还是实际攻击。</span><span class="sxs-lookup"><span data-stu-id="def63-151">Their job, whether it is a red team attack or an actual assault, is to detect and respond to all security incidents.</span></span> <span data-ttu-id="def63-152">因此，蓝队持续呼叫，必须对红色团队违规做出响应，方式与针对任何其他泄露的方式相同。</span><span class="sxs-lookup"><span data-stu-id="def63-152">For this reason, the blue team is continuously on-call and must react to red team breaches the same way they would for any other breach.</span></span>

<span data-ttu-id="def63-153">当对手（如红色团队）违反环境时，蓝队必须：</span><span class="sxs-lookup"><span data-stu-id="def63-153">When an adversary, such as a red team, has breached an environment, the blue team must:</span></span>

- <span data-ttu-id="def63-154">收集攻击者留下的证据</span><span class="sxs-lookup"><span data-stu-id="def63-154">Gather evidence left by the adversary</span></span>
- <span data-ttu-id="def63-155">检测证据作为泄露指示</span><span class="sxs-lookup"><span data-stu-id="def63-155">Detect the evidence as an indication of compromise</span></span>
- <span data-ttu-id="def63-156">向相应的工程和运营团队 (警报) </span><span class="sxs-lookup"><span data-stu-id="def63-156">Alert the appropriate Engineering and Operation team(s)</span></span>
- <span data-ttu-id="def63-157">对警报进行会审以确定它们是否需要进一步调查</span><span class="sxs-lookup"><span data-stu-id="def63-157">Triage the alerts to determine whether they warrant further investigation</span></span>
- <span data-ttu-id="def63-158">从环境收集上下文以界定泄露范围</span><span class="sxs-lookup"><span data-stu-id="def63-158">Gather context from the environment to scope the breach</span></span>
- <span data-ttu-id="def63-159">制定修正计划以包含或收回攻击者</span><span class="sxs-lookup"><span data-stu-id="def63-159">Form a remediation plan to contain or evict the adversary</span></span>
- <span data-ttu-id="def63-160">执行修正计划，从泄露中恢复</span><span class="sxs-lookup"><span data-stu-id="def63-160">Execute the remediation plan and recover from breach</span></span>

<span data-ttu-id="def63-161">这些步骤构成与对手并行运行的安全事件响应，如下所示：</span><span class="sxs-lookup"><span data-stu-id="def63-161">These steps form the security incident response that runs parallel to the adversary's, as shown below:</span></span>

![泄露响应阶段](../media/office-365-isolation-breach-response-stages.png)

<span data-ttu-id="def63-163">红色团队违规允许恢复蓝队端到端检测和响应实际攻击的能力。</span><span class="sxs-lookup"><span data-stu-id="def63-163">Red team breaches allow for exercising the blue team's ability to detect and respond to real-world attacks end-to-end.</span></span> <span data-ttu-id="def63-164">最重要的是，它允许在实际泄露之前执行安全事件响应。</span><span class="sxs-lookup"><span data-stu-id="def63-164">Most importantly, it allows for practiced security incident response prior to a genuine breach.</span></span> <span data-ttu-id="def63-165">此外，由于红色团队违规，蓝色团队增强了他们的情况意识，在处理以后的违规事件时 (无论是来自红队还是来自另一个对手) 。</span><span class="sxs-lookup"><span data-stu-id="def63-165">Additionally, because of red team breaches, the blue team enhances their situational awareness, which can be valuable when dealing with future breaches (whether from the red team or another adversary).</span></span> <span data-ttu-id="def63-166">在整个检测和响应过程中，蓝队会生成可操作智能，并查看他们尝试 (环境) 的实际状况。</span><span class="sxs-lookup"><span data-stu-id="def63-166">Throughout the detection and response process, the blue team produces actionable intelligence and gains visibility into the actual conditions of the environment(s) they are trying to defend.</span></span> <span data-ttu-id="def63-167">这通常通过数据分析和取证实现，由蓝队在响应红色团队攻击时执行，或通过建立威胁指示器（如泄露指示器）实现。</span><span class="sxs-lookup"><span data-stu-id="def63-167">Frequently this is accomplished via data analysis and forensics, performed by the blue team, when responding to red team attacks and by establishing threat indicators, such as indicators of compromise.</span></span> <span data-ttu-id="def63-168">与红色团队如何识别安全案例的漏洞很类似，蓝色团队可发现检测和响应能力差距。</span><span class="sxs-lookup"><span data-stu-id="def63-168">Much like how the red team identifies gaps in the security story, blue teams identify gaps in their ability to detect and respond.</span></span> <span data-ttu-id="def63-169">此外，由于红色团队模型实际攻击，可以准确评估蓝队处理确定和持久对手的能力或能力。</span><span class="sxs-lookup"><span data-stu-id="def63-169">Furthermore, since the red teams model real-world attacks, the blue team can be accurately assessed on their ability, or inability, to deal with determined and persistent adversaries.</span></span> <span data-ttu-id="def63-170">最后，红色团队违规将度量我们的泄露响应的准备情况和影响。</span><span class="sxs-lookup"><span data-stu-id="def63-170">Finally, red team breaches measure both readiness and impact of our breach response.</span></span>
