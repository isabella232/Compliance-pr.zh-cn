---
title: Skype、OneDrive、SharePoint 和 Exchange 的加密
description: 摘要：Skype、OneDrive、SharePoint、Microsoft Teams 和 Exchange Online 加密的说明。
ms.author: krowley
author: kccross
manager: laurawi
ms.reviewer: sosstah
f1.keywords:
- NOCSH
audience: ITPro
ms.topic: article
ms.service: O365-seccomp
localization_priority: None
search.appverid:
- MET150
ms.collection:
- Strat_O365_Enterprise
- M365-security-compliance
- Strat_O365_Enterprise
- SPO_Content
- MS-Compliance
titleSuffix: Microsoft Service Assurance
ms.openlocfilehash: 9317b112d1fa759b1f90e072203e7b8093a432fd
ms.sourcegitcommit: 21ed42335efd37774ff5d17d9586d5546147241a
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 02/05/2021
ms.locfileid: "50120541"
---
# <a name="encryption-for-skype-for-business-onedrive-for-business-sharepoint-online-microsoft-teams-and-exchange-online"></a><span data-ttu-id="4e898-103">Skype for Business、OneDrive for Business、SharePoint Online、Microsoft Teams 和 Exchange Online 的加密</span><span class="sxs-lookup"><span data-stu-id="4e898-103">Encryption for Skype for Business, OneDrive for Business, SharePoint Online, Microsoft Teams, and Exchange Online</span></span>

<span data-ttu-id="4e898-104">Microsoft 365 是高度安全的环境，提供多层的广泛保护：物理数据中心安全、网络安全、访问安全、应用程序安全和数据安全。</span><span class="sxs-lookup"><span data-stu-id="4e898-104">Microsoft 365 is a highly secure environment that offers extensive protection in multiple layers: physical data center security, network security, access security, application security, and data security.</span></span>

## <a name="skype-for-business"></a><span data-ttu-id="4e898-105">Skype for Business</span><span class="sxs-lookup"><span data-stu-id="4e898-105">Skype for Business</span></span>

<span data-ttu-id="4e898-106">Skype for Business 客户数据可以以会议参与者上载的文件或演示文稿的形式存储。</span><span class="sxs-lookup"><span data-stu-id="4e898-106">Skype for Business customer data may be stored at rest in the form of files or presentations that are uploaded by meeting participants.</span></span> <span data-ttu-id="4e898-107">Web 会议服务器使用 AES 和 256 位密钥加密客户数据。</span><span class="sxs-lookup"><span data-stu-id="4e898-107">The Web Conferencing server encrypts customer data using AES with a 256-bit key.</span></span> <span data-ttu-id="4e898-108">加密的客户数据存储在文件共享中。</span><span class="sxs-lookup"><span data-stu-id="4e898-108">The encrypted customer data is stored on a file share.</span></span> <span data-ttu-id="4e898-109">每段客户数据都使用不同的随机生成的 256 位密钥进行加密。</span><span class="sxs-lookup"><span data-stu-id="4e898-109">Each piece of customer data is encrypted using a different randomly generated 256-bit key.</span></span> <span data-ttu-id="4e898-110">在会议中共享一部分客户数据时，Web 会议服务器会指示会议客户端通过 HTTPS 下载加密的客户数据。</span><span class="sxs-lookup"><span data-stu-id="4e898-110">When a piece of customer data is shared in a conference, the Web Conferencing server instructs the conferencing clients to download the encrypted customer data via HTTPS.</span></span> <span data-ttu-id="4e898-111">它将相应的密钥发送到客户端，以便可以解密客户数据。</span><span class="sxs-lookup"><span data-stu-id="4e898-111">It sends the corresponding key to clients so that the customer data can be decrypted.</span></span> <span data-ttu-id="4e898-112">Web 会议服务器还会在允许客户端访问会议客户数据之前对会议客户端进行身份验证。</span><span class="sxs-lookup"><span data-stu-id="4e898-112">The Web Conferencing server also authenticates conferencing clients before it allows the clients access to conference customer data.</span></span> <span data-ttu-id="4e898-113">加入 Web 会议时，每个会议客户端首先建立一个 SIP 对话框，其中会议焦点组件在前端服务器内部通过 TLS 运行。</span><span class="sxs-lookup"><span data-stu-id="4e898-113">When joining a Web conference, each conferencing client establishes a SIP dialog with the conferencing focus component running inside the front-end server over TLS first.</span></span> <span data-ttu-id="4e898-114">会议焦点将 Web 会议服务器生成的身份验证 Cookie 传递给会议客户端。</span><span class="sxs-lookup"><span data-stu-id="4e898-114">The conferencing focus passes to the conference client an authentication cookie generated by the Web Conferencing server.</span></span> <span data-ttu-id="4e898-115">然后，会议客户端连接到呈现要由服务器进行身份验证的身份验证 Cookie 的 Web 会议服务器。</span><span class="sxs-lookup"><span data-stu-id="4e898-115">The conferencing client then connects to the Web Conferencing server presenting the authentication cookie to be authenticated by the server.</span></span>

## <a name="sharepoint-online-and-onedrive-for-business"></a><span data-ttu-id="4e898-116">SharePoint Online 和 OneDrive for Business</span><span class="sxs-lookup"><span data-stu-id="4e898-116">SharePoint Online and OneDrive for Business</span></span>

<span data-ttu-id="4e898-117">SharePoint Online 中所有客户文件都受每个文件的唯一密钥（始终专用于单个租户）保护。</span><span class="sxs-lookup"><span data-stu-id="4e898-117">All customer files in SharePoint Online are protected by unique, per-file keys that are always exclusive to a single tenant.</span></span> <span data-ttu-id="4e898-118">密钥由 SharePoint Online 服务创建和管理，或在客户使用、创建和管理客户密钥时创建和管理。</span><span class="sxs-lookup"><span data-stu-id="4e898-118">The keys are either created and managed by the SharePoint Online service, or when Customer Key is used, created and managed by customers.</span></span> <span data-ttu-id="4e898-119">上载文件时，SharePoint Online 在上载请求上下文中执行加密，然后再发送到 Azure 存储。</span><span class="sxs-lookup"><span data-stu-id="4e898-119">When a file is uploaded, encryption is performed by SharePoint Online within the context of the upload request, before being sent to Azure storage.</span></span> <span data-ttu-id="4e898-120">下载文件时，SharePoint Online 将基于唯一文档标识符从 Azure 存储检索加密的客户数据，并在将客户数据发送到用户之前对其进行解密。</span><span class="sxs-lookup"><span data-stu-id="4e898-120">When a file is downloaded, SharePoint Online retrieves the encrypted customer data from Azure storage based on the unique document identifier and decrypts the customer data before sending it to the user.</span></span> <span data-ttu-id="4e898-121">Azure 存储无法解密，甚至无法识别或了解客户数据。</span><span class="sxs-lookup"><span data-stu-id="4e898-121">Azure storage has no ability to decrypt, or even identify or understand the customer data.</span></span> <span data-ttu-id="4e898-122">所有加密和解密都发生在强制执行租户隔离的相同系统中，即 Azure Active Directory 和 SharePoint Online。</span><span class="sxs-lookup"><span data-stu-id="4e898-122">All encryption and decryption happen in the same systems that enforce tenant isolation, which are Azure Active Directory and SharePoint Online.</span></span>

<span data-ttu-id="4e898-123">Microsoft 365 中的一些工作负载将数据存储在 SharePoint Online 中，包括 Microsoft Teams（将所有文件存储在 SharePoint Online 中）和 OneDrive for Business（使用 SharePoint Online 进行存储）。</span><span class="sxs-lookup"><span data-stu-id="4e898-123">Several workloads in Microsoft 365 store data in SharePoint Online, including Microsoft Teams, which stores all files in SharePoint Online, and OneDrive for Business, which uses SharePoint Online for its storage.</span></span> <span data-ttu-id="4e898-124">SharePoint Online 中存储的所有客户数据都 (一个或多个 AES 256 位密钥进行加密) 分布在数据中心，如下所示。</span><span class="sxs-lookup"><span data-stu-id="4e898-124">All customer data stored in SharePoint Online is encrypted (with one or more AES 256-bit keys) and distributed across the datacenter as follows.</span></span> <span data-ttu-id="4e898-125"> (此加密过程的每一步都经过 FIPS 140-2 级别 2 验证。</span><span class="sxs-lookup"><span data-stu-id="4e898-125">(Every step of this encryption process is FIPS 140-2 Level 2 validated.</span></span> <span data-ttu-id="4e898-126">有关 FIPS 140-2 合规性的其他信息，请参阅 [FIPS 140-2 合规性](/previous-versions/sql/sql-server-2008-r2/bb326611(v=sql.105)).) </span><span class="sxs-lookup"><span data-stu-id="4e898-126">For additional information about FIPS 140-2 compliance, see [FIPS 140-2 Compliance](/previous-versions/sql/sql-server-2008-r2/bb326611(v=sql.105)).)</span></span>

- <span data-ttu-id="4e898-127">每个文件将拆分为一个或多个区块，具体取决于文件大小。</span><span class="sxs-lookup"><span data-stu-id="4e898-127">Each file is split into one or more chunks, depending on file size.</span></span> <span data-ttu-id="4e898-128">每个区块都使用自己的唯一 AES 256 位密钥进行加密。</span><span class="sxs-lookup"><span data-stu-id="4e898-128">Each chunk is encrypted using its own unique AES 256-bit key.</span></span>
- <span data-ttu-id="4e898-129">更新文件时，将按相同方式处理更新：更改拆分为一个或多个区块，每个区块使用单独的唯一密钥进行加密。</span><span class="sxs-lookup"><span data-stu-id="4e898-129">When a file is updated, the update is handled in the same way: the change is split into one or more chunks, and each chunk is encrypted with a separate unique key.</span></span>
- <span data-ttu-id="4e898-130">这些区块（文件、文件片段和更新增量）作为 blob 存储在 Azure 存储中，随机分布在多个 Azure 存储帐户中。</span><span class="sxs-lookup"><span data-stu-id="4e898-130">These chunks – files, pieces of files, and update deltas – are stored as blobs in Azure storage that are randomly distributed across multiple Azure storage accounts.</span></span>
- <span data-ttu-id="4e898-131">这些客户数据块的加密密钥集本身已加密。</span><span class="sxs-lookup"><span data-stu-id="4e898-131">The set of encryption keys for these chunks of customer data is itself encrypted.</span></span>

    - <span data-ttu-id="4e898-132">用于加密 blob 的密钥存储在 SharePoint Online 内容数据库中。</span><span class="sxs-lookup"><span data-stu-id="4e898-132">The keys used to encrypt the blobs are stored in the SharePoint Online Content Database.</span></span>
    - <span data-ttu-id="4e898-133">内容数据库受数据库访问控制和静态加密保护。</span><span class="sxs-lookup"><span data-stu-id="4e898-133">The Content Database is protected by database access controls and encryption at rest.</span></span> <span data-ttu-id="4e898-134">加密使用 Azure [ (](/sql/relational-databases/security/encryption/transparent-data-encryption-tde) 数据库中的透明数据) TDE [SQL执行](/azure/sql-database/sql-database-technical-overview)。</span><span class="sxs-lookup"><span data-stu-id="4e898-134">Encryption is performed using [Transparent Data Encryption](/sql/relational-databases/security/encryption/transparent-data-encryption-tde) (TDE) in [Azure SQL Database](/azure/sql-database/sql-database-technical-overview).</span></span> <span data-ttu-id="4e898-135"> (Azure SQL 数据库是 Microsoft Azure 中通用的 关系数据库 服务，支持关系数据、JSON、空间和 XML 等结构。) 这些密码位于 SharePoint Online 的服务级别，而不是租户级别。</span><span class="sxs-lookup"><span data-stu-id="4e898-135">(Azure SQL Database is a general-purpose relational database service in Microsoft Azure that supports structures such as relational data, JSON, spatial, and XML.) These secrets are at the service level for SharePoint Online, not at the tenant level.</span></span> <span data-ttu-id="4e898-136">这些 (有时称为主密钥) 存储在称为密钥存储的单独安全存储库中。</span><span class="sxs-lookup"><span data-stu-id="4e898-136">These secrets (sometimes referred to as the master keys) are stored in a separate secure repository called the Key Store.</span></span> <span data-ttu-id="4e898-137">TDE 可为活动数据库、数据库备份和事务日志提供处于非活动状态的安全性。</span><span class="sxs-lookup"><span data-stu-id="4e898-137">TDE provides security at rest for both the active database and the database backups and transaction logs.</span></span>
    - <span data-ttu-id="4e898-138">当客户提供可选密钥时，客户密钥将存储在 Azure 密钥保管库中，服务使用该密钥来加密租户密钥，该密钥用于加密站点密钥，然后用于加密文件级别密钥。</span><span class="sxs-lookup"><span data-stu-id="4e898-138">When customers provide the optional key, the customer key is stored in Azure Key Vault, and the service uses the key to encrypt a tenant key, which is used to encrypt a site key, which is then used to encrypt the file level keys.</span></span> <span data-ttu-id="4e898-139">实质上，当客户提供密钥时，将引入新的密钥层次结构。</span><span class="sxs-lookup"><span data-stu-id="4e898-139">Essentially, a new key hierarchy is introduced when the customer provides a key.</span></span>
- <span data-ttu-id="4e898-140">用于重新组合文件的映射与解密密钥所需的主密钥分开存储在内容数据库中。</span><span class="sxs-lookup"><span data-stu-id="4e898-140">The map used to re-assemble the file is stored in the Content Database along with the encrypted keys, separately from the master key needed to decrypt them.</span></span>
- <span data-ttu-id="4e898-141">每个 Azure 存储帐户具有每个访问类型的唯一凭据 (读取、写入、枚举和删除) 。</span><span class="sxs-lookup"><span data-stu-id="4e898-141">Each Azure storage account has its own unique credentials per access type (read, write, enumerate, and delete).</span></span> <span data-ttu-id="4e898-142">每组凭据都存放在安全的密钥存储中，并定期刷新。</span><span class="sxs-lookup"><span data-stu-id="4e898-142">Each set of credentials is held in the secure Key Store and is regularly refreshed.</span></span> <span data-ttu-id="4e898-143">如上所述，有三种不同类型的存储，每种类型的存储具有不同的功能：</span><span class="sxs-lookup"><span data-stu-id="4e898-143">As described above, there are three different types of stores, each with a distinct function:</span></span>
    - <span data-ttu-id="4e898-144">客户数据存储为 Azure 存储中的加密 blob。</span><span class="sxs-lookup"><span data-stu-id="4e898-144">Customer data is stored as encrypted blobs in Azure storage.</span></span> <span data-ttu-id="4e898-145">每个客户数据块的密钥都经过加密，并单独存储在内容数据库中。</span><span class="sxs-lookup"><span data-stu-id="4e898-145">The key to each chunk of customer data is encrypted and stored separately in the Content Database.</span></span> <span data-ttu-id="4e898-146">客户数据本身没有关于如何对其进行解密的线索。</span><span class="sxs-lookup"><span data-stu-id="4e898-146">The customer data itself holds no clue as to how it can be decrypted.</span></span>
    - <span data-ttu-id="4e898-147">"内容数据库"是一个 SQL Server 数据库。</span><span class="sxs-lookup"><span data-stu-id="4e898-147">The Content Database is a SQL Server database.</span></span> <span data-ttu-id="4e898-148">它保留查找和重新组合 Azure 存储中保留的客户数据 blob 所需的映射，以及加密这些 blob 所需的密钥。</span><span class="sxs-lookup"><span data-stu-id="4e898-148">It holds the map required to locate and reassemble the customer data blobs held in Azure storage as well as the keys needed to encrypt those blobs.</span></span> <span data-ttu-id="4e898-149">但是，密钥集本身已加密 (如上文所述) 保存在单独的密钥存储中。</span><span class="sxs-lookup"><span data-stu-id="4e898-149">However, the set of keys is itself encrypted (as explained above) and held in a separate Key Store.</span></span>
    - <span data-ttu-id="4e898-150">密钥存储在物理上独立于内容数据库和 Azure 存储。</span><span class="sxs-lookup"><span data-stu-id="4e898-150">The Key Store is physically separate from the Content Database and Azure storage.</span></span> <span data-ttu-id="4e898-151">它保留每个 Azure 存储容器的凭据以及内容数据库中保留的一组加密密钥的主密钥。</span><span class="sxs-lookup"><span data-stu-id="4e898-151">It holds the credentials for each Azure storage container and the master key to the set of encrypted keys held in the Content Database.</span></span>

<span data-ttu-id="4e898-152">这三个存储组件（Azure blob 存储、内容数据库和密钥存储）在物理上是分开的。</span><span class="sxs-lookup"><span data-stu-id="4e898-152">Each of these three storage components – the Azure blob store, the Content Database, and the Key Store – is physically separate.</span></span> <span data-ttu-id="4e898-153">保留在其中任一个组件中的信息在其自身上都不可用。</span><span class="sxs-lookup"><span data-stu-id="4e898-153">The information held in any one of the components is unusable on its own.</span></span> <span data-ttu-id="4e898-154">如果不访问这三个区块，则不可能检索到区块的密钥、解密密钥使其可用、将密钥与相应的区块关联、解密每个区块或从构成块重新构造文档。</span><span class="sxs-lookup"><span data-stu-id="4e898-154">Without access to all three, it is impossible to retrieve the keys to the chunks, decrypt the keys to make them usable, associate the keys with their corresponding chunks, decrypt each chunk, or reconstruct a document from its constituent chunks.</span></span>

<span data-ttu-id="4e898-155">保护数据中心中计算机上物理磁盘卷的 BitLocker 证书存储在受场密钥保护的安全存储库 (SharePoint Online 密码存储) 中。</span><span class="sxs-lookup"><span data-stu-id="4e898-155">BitLocker certificates, which protect the physical disk volumes on machines in the datacenter, are stored in a secure repository (the SharePoint Online secret store) that is protected by the Farm key.</span></span>

<span data-ttu-id="4e898-156">保护每个 blob 密钥的 TDE 密钥存储在两个位置：</span><span class="sxs-lookup"><span data-stu-id="4e898-156">The TDE keys that protect the per-blob keys are stored in two locations:</span></span>

- <span data-ttu-id="4e898-157">存储 BitLocker 证书并受服务器场密钥保护的安全存储库;and</span><span class="sxs-lookup"><span data-stu-id="4e898-157">The secure repository, which houses the BitLocker certificates and is protected by the Farm Key; and</span></span>
- <span data-ttu-id="4e898-158">在由 Azure 数据库管理的安全SQL中。</span><span class="sxs-lookup"><span data-stu-id="4e898-158">In a secure repository managed by Azure SQL Database.</span></span>

<span data-ttu-id="4e898-159">用于访问 Azure 存储容器的凭据也保存在 SharePoint Online 密码存储中，并根据需要委派给每个 SharePoint Online 场。</span><span class="sxs-lookup"><span data-stu-id="4e898-159">The credentials used to access the Azure storage containers are also held in the SharePoint Online secret store and delegated to each SharePoint Online farm as needed.</span></span> <span data-ttu-id="4e898-160">这些凭据是 Azure 存储 SAS 签名，具有用于读取或写入数据的单独凭据，并应用了策略，以便每 60 天自动过期一次。</span><span class="sxs-lookup"><span data-stu-id="4e898-160">These credentials are Azure storage SAS signatures, with separate credentials used to read or write data, and with policy applied so that they auto-expire every 60 days.</span></span> <span data-ttu-id="4e898-161">不同的凭据用于读取或写入数据 (，) 和 SharePoint Online 场都未授予枚举权限。</span><span class="sxs-lookup"><span data-stu-id="4e898-161">Different credentials are used to read or write data (not both) and SharePoint Online farms are not given permissions to enumerate.</span></span>

> [!NOTE]
> <span data-ttu-id="4e898-162">对于 Office 365 美国政府版客户，数据 blob 存储在 Azure 美国政府存储中。</span><span class="sxs-lookup"><span data-stu-id="4e898-162">For Office 365 U.S. Government customers, data blobs are stored in Azure U.S. Government Storage.</span></span> <span data-ttu-id="4e898-163">此外，Office 365 美国政府版中的 SharePoint Online 密钥的访问权限仅限于经过专门筛选的 Office 365 员工。</span><span class="sxs-lookup"><span data-stu-id="4e898-163">In addition, access to SharePoint Online keys in Office 365 U.S. Government is limited to Office 365 staff that have been specifically screened.</span></span> <span data-ttu-id="4e898-164">Azure 美国政府运营人员无法访问用于加密数据 blob 的 SharePoint Online 密钥存储。</span><span class="sxs-lookup"><span data-stu-id="4e898-164">Azure U.S. Government operations staff do not have access to the SharePoint Online key store that is used for encrypting data blobs.</span></span>

<span data-ttu-id="4e898-165">有关 SharePoint Online 和 OneDrive for Business 中数据加密的信息，请参阅 [OneDrive for Business](https://technet.microsoft.com/library/dn905447.aspx)和 SharePoint Online 中的数据加密。</span><span class="sxs-lookup"><span data-stu-id="4e898-165">For more information about data encryption in SharePoint Online and OneDrive for Business, see [Data Encryption in OneDrive for Business and SharePoint Online](https://technet.microsoft.com/library/dn905447.aspx).</span></span>

### <a name="list-items-in-sharepoint-online"></a><span data-ttu-id="4e898-166">SharePoint Online 中的列表项</span><span class="sxs-lookup"><span data-stu-id="4e898-166">List Items in SharePoint Online</span></span>

<span data-ttu-id="4e898-167">列表项是临时创建的客户数据的较小区块，或可以更动态地在网站中活动的客户数据块，例如用户创建的列表中的行、SharePoint Online 博客中的单个文章或 SharePoint Online Wiki 网页中的条目。</span><span class="sxs-lookup"><span data-stu-id="4e898-167">List Items are smaller chunks of customer data that are created ad-hoc or that can live more dynamically within a site, such as rows in a user-created list, individual posts in a SharePoint Online blog, or entries within a SharePoint Online wiki page.</span></span> <span data-ttu-id="4e898-168">列表项存储在 Azure 数据库数据库 (Azure SQL 数据库) TDE 进行保护。</span><span class="sxs-lookup"><span data-stu-id="4e898-168">List items are stored in the Content Database (Azure SQL Database) and protected with TDE.</span></span>

## <a name="encryption-of-data-in-transit"></a><span data-ttu-id="4e898-169">中转数据的加密</span><span class="sxs-lookup"><span data-stu-id="4e898-169">Encryption of data in transit</span></span>

<span data-ttu-id="4e898-170">在 OneDrive for Business 和 SharePoint Online 中，有两种数据进入和退出数据中心的方案。</span><span class="sxs-lookup"><span data-stu-id="4e898-170">In OneDrive for Business and SharePoint Online, there are two scenarios in which data enters and exits the datacenters.</span></span>

- <span data-ttu-id="4e898-171">**客户端与服务器的通信** - 通过 Internet 与 SharePoint Online 和 OneDrive for Business 的通信使用 TLS 连接。</span><span class="sxs-lookup"><span data-stu-id="4e898-171">**Client communication with the server** - Communication to SharePoint Online and OneDrive for Business across the Internet uses TLS connections.</span></span>
- <span data-ttu-id="4e898-172">**数据中心之间的数据移动** - 在数据中心之间移动数据的主要原因是进行异地复制以实现灾难恢复。</span><span class="sxs-lookup"><span data-stu-id="4e898-172">**Data movement between datacenters** - The primary reason to move data between datacenters is for geo-replication to enable disaster recovery.</span></span> <span data-ttu-id="4e898-173">例如，SQL Server 事务日志和 blob 存储增量沿着此管道传输。</span><span class="sxs-lookup"><span data-stu-id="4e898-173">For instance, SQL Server transaction logs and blob storage deltas travel along this pipe.</span></span> <span data-ttu-id="4e898-174">虽然已使用专用网络传输此数据，但还将进一步使用一流加密技术来保护此数据。</span><span class="sxs-lookup"><span data-stu-id="4e898-174">While this data is already transmitted by using a private network, it is further protected with best-in-class encryption.</span></span>

## <a name="exchange-online"></a><span data-ttu-id="4e898-175">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="4e898-175">Exchange Online</span></span>

<span data-ttu-id="4e898-176">Exchange Online 将 BitLocker 用于所有邮箱数据，BitLocker 配置在 [BitLocker for Encryption 中进行了介绍](/microsoft-365/compliance/office-365-bitlocker-and-distributed-key-manager-for-encryption)。</span><span class="sxs-lookup"><span data-stu-id="4e898-176">Exchange Online uses BitLocker for all mailbox data, and the BitLocker configuration is described in [BitLocker for Encryption](/microsoft-365/compliance/office-365-bitlocker-and-distributed-key-manager-for-encryption).</span></span> <span data-ttu-id="4e898-177">服务级别加密对邮箱级别的所有邮箱数据进行加密。</span><span class="sxs-lookup"><span data-stu-id="4e898-177">Service-level encryption encrypts all mailbox data at the mailbox level.</span></span> 

<span data-ttu-id="4e898-178">除了服务加密之外，Microsoft 365 还支持基于服务加密构建的客户密钥。</span><span class="sxs-lookup"><span data-stu-id="4e898-178">In addition to service-encryption, Microsoft 365 supports Customer Key, which is built on top of service-encryption.</span></span> <span data-ttu-id="4e898-179">客户密钥是 Microsoft 管理的 Exchange Online 服务加密密钥选项，也位于 Microsoft 路线图中。</span><span class="sxs-lookup"><span data-stu-id="4e898-179">Customer Key is a Microsoft-managed key option for Exchange Online service encryption that is also on Microsoft's Roadmap.</span></span> <span data-ttu-id="4e898-180">这种加密方法提供 BitLocker 未提供的增强保护，因为它可分离服务器管理员和解密数据所需的加密密钥，并且将加密直接应用于数据 (与 BitLocker 相反，BitLocker 在逻辑磁盘卷应用加密) 从 Exchange 服务器复制的任何客户数据保持加密状态。</span><span class="sxs-lookup"><span data-stu-id="4e898-180">This method of encryption provides increased protection not afforded by BitLocker because it provides separation of server administrators and the cryptographic keys necessary for decryption of data, and because the encryption is applied directly to the data (in contrast with BitLocker, which applies encryption at the logical disk volume) any customer data copied from an Exchange server remains encrypted.</span></span>

<span data-ttu-id="4e898-181">Exchange Online 服务加密的范围是存储在 Exchange Online 中的静态客户数据。</span><span class="sxs-lookup"><span data-stu-id="4e898-181">The scope for Exchange Online service encryption is customer data that is stored at rest within Exchange Online.</span></span> <span data-ttu-id="4e898-182"> (Skype for Business 将几乎所有用户生成的内容存储在用户的 Exchange Online 邮箱中，因此继承了 Exchange Online.) </span><span class="sxs-lookup"><span data-stu-id="4e898-182">(Skype for Business stores nearly all user-generated content within the user's Exchange Online mailbox and therefore inherits the service encryption feature of Exchange Online.)</span></span>


## <a name="microsoft-teams"></a><span data-ttu-id="4e898-183">Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="4e898-183">Microsoft Teams</span></span>

<span data-ttu-id="4e898-184">Teams 使用 TLS 和 MTLS 加密即时消息。</span><span class="sxs-lookup"><span data-stu-id="4e898-184">Teams uses TLS and MTLS to encrypt instant messages.</span></span> <span data-ttu-id="4e898-185">所有服务器到服务器流量都需要 MTLS，而不管通信是仅限于内部网络还是跨越内部网络外围。</span><span class="sxs-lookup"><span data-stu-id="4e898-185">All server-to-server traffic requires MTLS, regardless of whether the traffic is confined to the internal network or crosses the internal network perimeter.</span></span>

<span data-ttu-id="4e898-186">此表总结了 Teams 使用的协议。</span><span class="sxs-lookup"><span data-stu-id="4e898-186">This table summarizes the protocols used by Teams.</span></span>

|<span data-ttu-id="4e898-187">**通信类型**</span><span class="sxs-lookup"><span data-stu-id="4e898-187">**Traffic type**</span></span>|<span data-ttu-id="4e898-188">**加密者**</span><span class="sxs-lookup"><span data-stu-id="4e898-188">**Encrypted by**</span></span>|
|:-----|:-----|
|<span data-ttu-id="4e898-189">服务器到服务器</span><span class="sxs-lookup"><span data-stu-id="4e898-189">Server-to-server</span></span>|<span data-ttu-id="4e898-190">MTLS</span><span class="sxs-lookup"><span data-stu-id="4e898-190">MTLS</span></span>|
|<span data-ttu-id="4e898-191">例如，客户端到 (服务器</span><span class="sxs-lookup"><span data-stu-id="4e898-191">Client-to-server (ex.</span></span> <span data-ttu-id="4e898-192">即时消息和状态) </span><span class="sxs-lookup"><span data-stu-id="4e898-192">instant messaging and presence)</span></span>|<span data-ttu-id="4e898-193">TLS</span><span class="sxs-lookup"><span data-stu-id="4e898-193">TLS</span></span>|
|<span data-ttu-id="4e898-194">媒体流 (</span><span class="sxs-lookup"><span data-stu-id="4e898-194">Media flows (ex.</span></span> <span data-ttu-id="4e898-195">媒体传输的音频和视频) </span><span class="sxs-lookup"><span data-stu-id="4e898-195">audio and video sharing of media)</span></span>|<span data-ttu-id="4e898-196">TLS</span><span class="sxs-lookup"><span data-stu-id="4e898-196">TLS</span></span>|
|<span data-ttu-id="4e898-197">媒体的音频和视频共享</span><span class="sxs-lookup"><span data-stu-id="4e898-197">Audio and video sharing of media</span></span>|<span data-ttu-id="4e898-198">SRTP/TLS</span><span class="sxs-lookup"><span data-stu-id="4e898-198">SRTP/TLS</span></span>|
|<span data-ttu-id="4e898-199">信号</span><span class="sxs-lookup"><span data-stu-id="4e898-199">Signaling</span></span>|<span data-ttu-id="4e898-200">TLS</span><span class="sxs-lookup"><span data-stu-id="4e898-200">TLS</span></span>|

#### <a name="media-encryption"></a><span data-ttu-id="4e898-201">媒体加密</span><span class="sxs-lookup"><span data-stu-id="4e898-201">Media Encryption</span></span>

<span data-ttu-id="4e898-202">媒体通信是使用安全 RTP (SRTP) 进行加密的，SRTP 是为 RTP 通信提供保密性、身份验证和重播攻击保护的实时传输协议 (RTP) 的配置文件。</span><span class="sxs-lookup"><span data-stu-id="4e898-202">Media traffic is encrypted using Secure RTP (SRTP), a profile of Real-Time Transport Protocol (RTP) that provides confidentiality, authentication, and replay attack protection to RTP traffic.</span></span> <span data-ttu-id="4e898-203">SRTP 使用使用安全随机数字生成器生成的会话密钥，并使用信号 TLS 通道进行交换。</span><span class="sxs-lookup"><span data-stu-id="4e898-203">SRTP uses a session key generated by using a secure random number generator and is exchanged using the signaling TLS channel.</span></span> <span data-ttu-id="4e898-204">客户端到客户端媒体流量通过客户端到服务器连接信号协商，但在直接进入客户端到客户端时使用 SRTP 进行加密。</span><span class="sxs-lookup"><span data-stu-id="4e898-204">Client-to-client media traffic is negotiated through a client-to-server connection signaling but is encrypted using SRTP when going client-to-client directly.</span></span>

<span data-ttu-id="4e898-205">Teams 使用基于凭据的令牌通过 TURN 安全访问媒体中继。</span><span class="sxs-lookup"><span data-stu-id="4e898-205">Teams uses a credentials-based token for secure access to media relays over TURN.</span></span> <span data-ttu-id="4e898-206">媒体中继通过 TLS 安全通道交换令牌。</span><span class="sxs-lookup"><span data-stu-id="4e898-206">Media relays exchange the token over a TLS-secured channel.</span></span>

#### <a name="fips"></a><span data-ttu-id="4e898-207">FIPS</span><span class="sxs-lookup"><span data-stu-id="4e898-207">FIPS</span></span>

<span data-ttu-id="4e898-208">Teams 使用 FIPS (美国联邦信息处理标准) 加密密钥交换的兼容算法。</span><span class="sxs-lookup"><span data-stu-id="4e898-208">Teams uses FIPS (Federal Information Processing Standard) compliant algorithms for encryption key exchanges.</span></span> <span data-ttu-id="4e898-209">有关 FIPS 实现详细信息，请参阅联邦信息处理标准 ([FIPS) 出版物 140-2。](/microsoft-365/compliance/offering-fips-140-2)</span><span class="sxs-lookup"><span data-stu-id="4e898-209">For more information on the implementation of FIPS, please see [Federal Information Processing Standard (FIPS) Publication 140-2](/microsoft-365/compliance/offering-fips-140-2).</span></span>
